<div class="container-fluid register-container">
  <div class="row px-4 py-2 test">
    <div class="col-10 mx-auto col-lg-6 text-center shadow-lg rounded">
      <h1>Start Using MyEcommerce</h1>
      <p class="px-5">
        Join MyEcommerce to explore new products, compare with your friends,
        create your own profile, and plenty more. It's Free.
      </p>
      <!-- External Regsitration -->
      <h2>Sign Up with</h2>
      <app-external-providers></app-external-providers>
      <!-- Internal Registration -->
      <form [formGroup]="registerForm" class="mt-3" (submit)="registerUser()">
        <div class="row">
          <div
            *ngIf="errorMessage"
            class="col-12 alert alert-danger text-center"
            role="alert"
          >
            {{ errorMessage | json }}
          </div>
          <!-- Email field -->
          <div class="col-12">
            <mat-form-field class="w-100">
              <mat-label>Email</mat-label>
              <input
                type="email"
                matInput
                formControlName="email"
                placeholder="Ex. pat@example.com"
              />
              <!-- Vaild email error message -->
              <mat-error *ngIf="registerForm.get('email')?.hasError('email')">
                Please enter a valid email address
              </mat-error>
              <!-- Required error message -->
              <mat-error
                *ngIf="registerForm.get('email')?.hasError('required')"
              >
                Email is <strong>required</strong>
              </mat-error>
            </mat-form-field>
          </div>
          <!-- Username Field -->
          <div class="col-12">
            <mat-form-field class="w-100">
              <mat-label>Username</mat-label>
              <input
                type="text"
                matInput
                formControlName="userName"
                placeholder="Ex. pat@example.com"
              />
              <!-- Min length error message -->
              <mat-error
                *ngIf="registerForm.get('userName')?.hasError('minlength')"
              >
                Username length should be more than <strong>3</strong>
              </mat-error>
              <!-- Max length error message -->
              <mat-error
                *ngIf="registerForm.get('userName')?.hasError('maxlength')"
              >
                Username length should be less than <strong>15</strong>
              </mat-error>
              <!-- Required error message -->
              <mat-error
                *ngIf="registerForm.get('userName')?.hasError('required')"
              >
                Username is <strong>required</strong>
              </mat-error>
            </mat-form-field>
          </div>
          <!-- Password Field -->
          <div class="col-12">
            <mat-form-field class="w-100">
              <mat-label>Enter your password</mat-label>
              <input
                formControlName="password"
                matInput
                [type]="hidePassword ? 'password' : 'text'"
              />
              <button
                mat-icon-button
                matSuffix
                (click)="hidePassword = !hidePassword"
                [attr.aria-label]="'Hide password'"
                [attr.aria-pressed]="hidePassword"
              >
                <mat-icon>{{
                  hidePassword ? "visibility_off" : "visibility"
                }}</mat-icon>
              </button>
              <!-- Min length error message -->
              <mat-error
                *ngIf="registerForm.get('password')?.hasError('minlength')"
              >
                Password length should be more than <strong>5</strong>
              </mat-error>
              <!-- Max length error message -->
              <mat-error
                *ngIf="registerForm.get('password')?.hasError('maxlength')"
              >
                Password length should be less than <strong>20</strong>
              </mat-error>
              <!-- Required error message -->
              <mat-error
                *ngIf="registerForm.get('password')?.hasError('required')"
              >
                Password is <strong>required</strong>
              </mat-error>
            </mat-form-field>
          </div>
          <!-- Confirm Password Field -->
          <div class="col-12">
            <mat-form-field class="w-100">
              <mat-label>Enter confirm password</mat-label>
              <input
                matInput
                formControlName="confirmPassword"
                [type]="hideConfirmPassword ? 'password' : 'text'"
              />
              <button
                mat-icon-button
                matSuffix
                (click)="hideConfirmPassword = !hideConfirmPassword"
                [attr.aria-label]="'Hide confirm password'"
                [attr.aria-pressed]="hideConfirmPassword"
              >
                <mat-icon>{{
                  hideConfirmPassword ? "visibility_off" : "visibility"
                }}</mat-icon>
              </button>
              <!-- Passwords should match error message -->
              <mat-error
                *ngIf="
                  registerForm
                    .get('confirmPassword')
                    ?.hasError('invaildConfirmPassword')
                "
              >
                Password and Confirm Password should be the
                <strong>same</strong>
              </mat-error>
              <!-- Required error message -->
              <mat-error
                *ngIf="
                  registerForm.get('confirmPassword')?.hasError('required')
                "
              >
                Confirm Password is <strong>required</strong>
              </mat-error>
            </mat-form-field>
          </div>
          <!-- Birthday Field -->
          <div class="col-12">
            <mat-form-field class="w-100">
              <mat-label>Choose a date</mat-label>
              <input
                formControlName="birthday"
                matInput
                [matDatepicker]="picker"
              />
              <mat-hint>MM/DD/YYYY</mat-hint>
              <mat-datepicker-toggle
                matIconSuffix
                [for]="picker"
              ></mat-datepicker-toggle>
              <mat-datepicker #picker></mat-datepicker>
              <!-- Vaild email error message -->
              <mat-error
                *ngIf="
                  registerForm.get('birthday')?.hasError('invaildBirthday')
                "
              >
                Please enter a valid <span>birthday</span>
              </mat-error>
              <!-- Required error message -->
              <mat-error
                *ngIf="registerForm.get('birthday')?.hasError('required')"
              >
                Birthday is <strong>required</strong>
              </mat-error>
            </mat-form-field>
          </div>
          <div class="col-12">
            <button
              mat-raised-button
              color="accent"
              [disabled]="registerForm.invalid"
            >
              <span class="p-5"> Create Account </span>
            </button>
          </div>
          <div class="col-12 mt-2">Already have an account? Login</div>
          <div class="col-12 mt-1 mb-3">
            <button mat-raised-button>
              <span class="p-3"> Login </span>
            </button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
