<mat-sidenav-container class="sidenav-container">
  <mat-sidenav
    #drawer
    class="sidenav"
    fixedInViewport
    [attr.role]="(isLarge$ | async) ? 'dialog' : 'navigation'"
    [mode]="(isLarge$ | async) ? 'over' : 'side'"
    [opened]="(isLarge$ | async) === false"
  >
    <mat-toolbar class="px-3">Menu</mat-toolbar>
    <mat-nav-list>
      <a mat-list-item routerLink="/">Home</a>
      <a mat-list-item [matMenuTriggerFor]="discount">Discount</a>
      <mat-menu #discount="matMenu">
        <a mat-menu-item routerLink="/dashboard/admin/discount/add"
          >Add Discount</a
        >
        <a mat-menu-item routerLink="/dashboard/admin/discount/list"
          >Discount List</a
        >
      </mat-menu>

      <a mat-list-item [matMenuTriggerFor]="category">Category</a>
      <mat-menu #category="matMenu">
        <a mat-menu-item routerLink="/dashboard/admin/category/add"
          >Add Category</a
        >
        <a mat-menu-item routerLink="/dashboard/admin/category/list"
          >Category List</a
        >
      </mat-menu>

      <a mat-list-item [matMenuTriggerFor]="product">Product</a>
      <mat-menu #product="matMenu">
        <a mat-menu-item routerLink="/dashboard/admin/product/add"
          >Add Product</a
        >
        <a mat-menu-item routerLink="/dashboard/admin/product/all"
          >All Products</a
        >
      </mat-menu>

      <a mat-list-item [matMenuTriggerFor]="auth">Auth</a>
      <mat-menu #auth="matMenu">
        <a mat-menu-item routerLink="/auth/login">Login</a>
        <a mat-menu-item routerLink="/auth/register">Register</a>
      </mat-menu>
      <a mat-list-item [matMenuTriggerFor]="viewerPages">Viewer Pages</a>
      <mat-menu #viewerPages="matMenu">
        <a mat-menu-item routerLink="/products"
          >Search and filter for products</a
        >
      </mat-menu>

      <a mat-list-item routerLink="/dashboard/cart">My Cart</a>
      <a mat-list-item routerLink="/products">Search and filter for products</a>
      <a mat-list-item routerLink="/dashboard">Dashboard</a>
      <a mat-list-item href="#">Link 2</a>
      <a mat-list-item href="#">Link 3</a>
    </mat-nav-list>
  </mat-sidenav>
  <mat-sidenav-content>
    <mat-toolbar
      class="d-flex flex-column flex-sm-row justify-content-sm-between align-items-center"
    >
      <span class="d-flex align-items-center text-center w-100 px-2">
        <button
          type="button"
          class="me-auto me-sm-0"
          aria-label="Toggle sidenav"
          mat-icon-button
          (click)="drawer.toggle()"
          *ngIf="isLarge$ | async"
        >
          <mat-icon aria-label="Side nav toggle icon"> menu</mat-icon>
        </button>
        <span class="me-auto me-sm-0">Ecommerce Full Stack</span>
      </span>
      <span
        class="d-flex justify-content-between justify-content-sm-end align-items-center user-actions w-100 px-2"
      >
        <!-- Search for products -->
        <p-button
          (click)="showDialog()"
          styleClass="p-button-secondary p-button-text"
          [style]="{ 'font-size': '1.5rem' }"
        >
          <i class="pi pi-search" style="font-size: 1.5rem"></i>
        </p-button>
        <!-- Notifications -->
        <p-button
          styleClass="p-button-secondary p-button-text"
          (click)="billMenu.toggle($event)"
        >
          <i
            class="pi pi-bell p-text-secondary"
            pBadge
            value="2"
            style="font-size: 1.5rem"
          ></i
        ></p-button>
        <!-- User actions -->
        <p-button
          styleClass="p-button-text p-button-secondary"
          (click)="userMenu.toggle($event)"
        >
          <img
            alt="logo"
            src="../../../../assets/images/user/profile.jpg"
            style="width: 2rem"
            class="me-2"
          />
          <span>User Name</span>
        </p-button>
        <!-- My cart -->
        <p-button
          (click)="cartVisible = true"
          styleClass="p-button-rounded p-button-secondary p-button-text"
          icon="pi pi-shopping-cart"
        ></p-button>
      </span>
    </mat-toolbar>
    <!-- Add Content Here -->
    <router-outlet></router-outlet>
    <app-footer></app-footer>
    <app-confirm-dialog></app-confirm-dialog>
  </mat-sidenav-content>
</mat-sidenav-container>

<!-- Card sidebar -->
<p-sidebar [(visible)]="cartVisible" position="right">
  <h3>My Cart</h3>
  <p>
    Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod
    tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
    quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
    consequat.
  </p>
</p-sidebar>

<!-- User Menu -->
<p-menu #userMenu [model]="userMenuItems" [popup]="true"></p-menu>

<!-- Notifications menu -->
<p-menu #billMenu [model]="billMenuItems" [popup]="true"></p-menu>

<!-- Search for products -->
<p-dialog
  header="Search For Products"
  [(visible)]="searchForProductVisible"
  [modal]="true"
  [draggable]="false"
  [resizable]="false"
  styleClass="custom-p-dialog"
>
  <span class="d-flex justify-content-center">
    <input
      type="text"
      pInputText
      [(ngModel)]="searchValue"
      class="w-100 me-3"
    />
    <p-button label="Search" styleClass="p-button-raised"></p-button>
  </span>
</p-dialog>
